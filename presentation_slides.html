<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>ClickHouse vs Elasticsearch - Database Systems Project</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/black.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css">
    <style>
        /* GitHub Dark Mode Custom Styles */
        :root {
            --gh-bg: #0d1117;
            --gh-surface: #161b22;
            --gh-text: #c9d1d9;
            --gh-text-dim: #8b949e;
            --gh-border: #30363d;
            --ch-color: #f97316;
            --es-color: #14b8a6;
        }

        .reveal {
            background: var(--gh-bg);
            color: var(--gh-text);
        }

        .reveal h1,
        .reveal h2,
        .reveal h3 {
            color: var(--gh-text);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .reveal table {
            background: var(--gh-surface);
            border: 1px solid var(--gh-border);
        }

        .reveal table th {
            background: var(--gh-surface);
            color: var(--gh-text);
            border-bottom: 2px solid var(--gh-border);
        }

        .reveal table td {
            border: 1px solid var(--gh-border);
        }

        .reveal strong {
            color: var(--ch-color);
        }

        .reveal small {
            color: var(--gh-text-dim);
        }
    </style>
</head>

<body>
    <div class="reveal">
        <div class="slides">

            <!-- Slide 1: Title -->
            <section>
                <h1>ClickHouse vs Elasticsearch</h1>
                <h3>Performance Benchmark for Healthcare Analytics</h3>
                <p>
                    <small>Created by Karl Seryani & Team</small>
                </p>
                <p style="font-size: 0.6em; color: #14b8a6;">Database Systems II - Fall 2025</p>
            </section>

            <!-- Slide 2: The Problem -->
            <section>
                <h2>The Problem</h2>
                <p style="text-align: left;">Healthcare data is exploding (IoT, EMRs, Logs).</p>
                <ul>
                    <li class="fragment">We need to store <strong>billions</strong> of records.</li>
                    <li class="fragment">We need to query them in <strong>milliseconds</strong>.</li>
                    <li class="fragment"><strong>The Question:</strong> Do we use a Search Engine (Elasticsearch) or a
                        Columnar Store (ClickHouse)?</li>
                </ul>
                <aside class="notes">
                    Speaker: Karl
                    Context: mpathic case study. They switched from ES to CH. We want to prove why.
                </aside>
            </section>

            <!-- Slide 3: The Contenders -->
            <section>
                <h2>The Contenders</h2>
                <div style="display: flex; justify-content: space-around;">
                    <div style="width: 45%;">
                        <h3 style="color: #14b8a6;">Elasticsearch</h3>
                        <ul>
                            <li><strong>Type:</strong> Search Engine (NoSQL)</li>
                            <li><strong>Core:</strong> Inverted Index</li>
                            <li><strong>Best For:</strong> Text search, simple lookups</li>
                        </ul>
                    </div>
                    <div style="width: 45%;">
                        <h3 style="color: #f97316;">ClickHouse</h3>
                        <ul>
                            <li><strong>Type:</strong> OLAP DBMS (SQL)</li>
                            <li><strong>Core:</strong> Columnar Storage</li>
                            <li><strong>Best For:</strong> Aggregations, Analytics</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Slide 4: Methodology -->
            <section>
                <h2>Methodology</h2>
                <ul>
                    <li><strong>Datasets:</strong>
                        <ul>
                            <li>Synthetic Healthcare (100K rows)</li>
                            <li><strong>Real-World NYC Taxi (3M rows)</strong> üöñ</li>
                        </ul>
                    </li>
                    <li><strong>Environment:</strong>
                        <ul>
                            <li>ClickHouse Cloud (AWS)</li>
                            <li>Elasticsearch Cloud (AWS)</li>
                        </ul>
                    </li>
                    <li><strong>Benchmarks:</strong> 7 Query Types (Aggregations, JOINs, Time-series)</li>
                </ul>
            </section>

            <!-- Slide 5: Finding #1 - Storage -->
            <section>
                <h2>Finding #1: Storage Efficiency</h2>
                <h1 style="color: #f97316;">13.3x</h1>
                <h3>More Efficient</h3>
                <p>ClickHouse compressed 100K rows to <strong>2MB</strong>.</p>
                <p>Elasticsearch needed <strong>28MB</strong>.</p>
                <p class="fragment" style="color: #f97316;">Winner: ClickHouse üèÜ</p>
            </section>

            <!-- Slide 6: Finding #2 - Simple Queries -->
            <section>
                <h2>Finding #2: Simple Queries</h2>
                <p>For simple counts and filters on small data:</p>
                <table>
                    <thead>
                        <tr>
                            <th>Query</th>
                            <th>ClickHouse</th>
                            <th>Elasticsearch</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Simple Count</td>
                            <td>98ms</td>
                            <td style="color: #14b8a6;">53ms</td>
                        </tr>
                        <tr>
                            <td>Filter + Agg</td>
                            <td>99ms</td>
                            <td style="color: #14b8a6;">52ms</td>
                        </tr>
                    </tbody>
                </table>
                <p class="fragment">Elasticsearch is <strong>1.9x Faster</strong> here.</p>
                <p class="fragment"><small>(Why? Inverted index lookups are instant.)</small></p>
            </section>

            <!-- Slide 7: Finding #3 - Complex Queries -->
            <section>
                <h2>Finding #3: Complex Queries</h2>
                <p>When the math gets hard (JOINs):</p>
                <table>
                    <thead>
                        <tr>
                            <th>Query</th>
                            <th>ClickHouse</th>
                            <th>Elasticsearch</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>JOIN (Patients + Events)</td>
                            <td style="color: #f97316;">102ms</td>
                            <td>262ms</td>
                        </tr>
                    </tbody>
                </table>
                <p class="fragment">ClickHouse is <strong>2.6x Faster</strong>.</p>
                <p class="fragment"><small>Elasticsearch doesn't do native JOINs; we had to simulate it (slow).</small>
                </p>
            </section>

            <!-- Slide 8: Finding #4 - Network Latency -->
            <section>
                <h2>Finding #4: The Hidden Factor</h2>
                <h3>Network Latency</h3>
                <p>We measured the baseline "ping" time:</p>
                <ul>
                    <li>ClickHouse Cloud: <strong>~80ms</strong></li>
                    <li>Elasticsearch Cloud: <strong>~53ms</strong></li>
                </ul>
                <div class="fragment"
                    style="background: #161b22; padding: 20px; border-radius: 10px; margin-top: 20px; border: 1px solid #30363d;">
                    <p><strong>Insight:</strong> For fast queries (under 100ms), the <strong>network</strong> takes up
                        50-80% of the time!</p>
                </div>
            </section>

            <!-- Slide 9: Real-World Validation -->
            <section>
                <h2>Real-World Validation</h2>
                <h3>NYC Taxi Data (3 Million Rows)</h3>
                <div style="display: flex; justify-content: space-around;">
                    <div class="fragment">
                        <h4>Ingestion Speed</h4>
                        <p>ClickHouse: <strong>35s</strong> üöÄ</p>
                        <p>Elasticsearch: <strong>301s</strong></p>
                        <p style="color: #f97316;">8.5x Faster</p>
                    </div>
                    <div class="fragment">
                        <h4>Query Speed</h4>
                        <p>Elasticsearch still faster for simple counts.</p>
                        <p>ClickHouse catches up after cache warmup.</p>
                    </div>
                </div>
            </section>

            <!-- Slide 10: Conclusion -->
            <section>
                <h2>The Verdict</h2>
                <ul>
                    <li class="fragment"><strong>Use Elasticsearch if:</strong> You need text search, simple lookups, or
                        have small, unstructured data.</li>
                    <li class="fragment"><strong>Use ClickHouse if:</strong> You have massive data (TB/PB), need complex
                        analytics (JOINs), or want to save 90% on storage costs.</li>
                </ul>
                <h3 class="fragment" style="margin-top: 40px; color: #14b8a6;">We validated the mpathic case study. ‚úÖ
                </h3>
            </section>

            <!-- Slide 11: Q&A -->
            <section>
                <h1>Questions?</h1>
                <p>Thank you!</p>
            </section>

        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            plugins: [RevealHighlight],
            controls: true,
            progress: true,
            center: true,
            transition: 'fade', // none/fade/slide/convex/concave/zoom
            transitionSpeed: 'slow'
        });
    </script>
</body>

</html>